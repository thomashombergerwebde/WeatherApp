<mvc:View
	controllerName="homberger.weatherapp.controller.weather"
	xmlns:l="sap.ui.layout"
	xmlns:html="http://www.w3.org/1999/xhtml"
	xmlns:core="sap.ui.core"
	xmlns:mvc="sap.ui.core.mvc"
	xmlns:mc="sap.suite.ui.microchart"
	xmlns="sap.m">
	<App>
		<Page id="page" title="{i18n>pageTitleWeather}" backgroundDesign="Transparent" showHeader="false" floatingFooter="true">
		<content>
			<ScrollContainer height="89%" horizontal="false" vertical="false">
				<content>
					<l:VerticalLayout class="sapUiContentPadding" width="100%">
						<l:content>
							<HBox> <!-- fitContainer="true" justifyContent="Center" alignItems=="Center" -->
								<items>
									<VBox fitContainer="true">
										<layoutData>
											<FlexItemData growFactor="7" />
										</layoutData>
										<items>
											<VBox fitContainer="true">
												<layoutData>
													<FlexItemData growFactor="3" />
												</layoutData>
												<items>
													<Carousel id="carousel" loop="true" arrowsPlacement="Content" showPageIndicator="true" width="550px" height="309px" class="sapUiHideOnPhone">
													</Carousel>
													<Carousel id="carouselHistory"  loop="true"  arrowsPlacement="Content" showPageIndicator="false" width="600px" class="sapUiHideOnPhone">
														<pages>
		<!--											Page 0: weather forecast -->
															<HBox id="widget" justifyContent="Center">
																<core:HTML  id="dasWetterCom" class="noPointerEvents"><!-- width="600px"> -->
																</core:HTML>
															</HBox>
		<!--											Page 1: indoor and outdoor temperatures -->
															<FlexBox alignItems="Center" justifyContent="Center">
																<items>
		<!--													Indoor temperature -->
																	<HBox alignItems="Center" justifyContent="Center" class="sapUiSmallMargin">
																		<VBox>
																			<HBox>
																				<core:Icon src="sap-icon://temperature" class="sapUiTinyMarginEnd text sizeSmall"/>
																				<Text text="{i18n>indoor}"/>
																			</HBox>
																			<mc:LineMicroChart
																				threshold="{/indoorTemp/0/threshold}"
																				leftTopLabel="{/indoorTemp/0/leftTopLabel}"
																				leftBottomLabel="{/indoorTemp/0/leftBottomLabel}"
																				rightTopLabel="{/indoorTemp/0/rightTopLabel}"
																				rightBottomLabel="{/indoorTemp/0/rightBottomLabel}"
																				color="{/indoorTemp/0/color}"
																				points="{
																					path: '/indoorTempPoints',
																					templateShareable: true
																				}"
																				class="sapUiTinyMarginTop">
																				<mc:LineMicroChartEmphasizedPoint
																					x="{x}"
																					y="{y}"
																					color="{/indoorTemp/0/color}"
																					show="{show}" />
																			</mc:LineMicroChart>
																		</VBox>
																	</HBox>
		<!--													Outdoor temperature -->
																	<HBox alignItems="Center" justifyContent="Center" class="sapUiSmallMargin">
																		<VBox>
																			<HBox>
																				<core:Icon src="sap-icon://temperature" class="sapUiTinyMarginEnd text sizeSmall"/>
																				<Text text="{i18n>outdoor}"/>
																			</HBox>
																			<mc:LineMicroChart
																				threshold="{/outdoorTemp/0/Tempthreshold}"
																				leftTopLabel="{/outdoorTemp/0/leftTopLabel}"
																				leftBottomLabel="{/outdoorTemp/0/leftBottomLabel}"
																				rightTopLabel="{/outdoorTemp/0/rightTopLabel}"
																				rightBottomLabel="{/outdoorTemp/0/rightBottomLabel}"
																				color="{/outdoorTemp/0/color}"
																				points="{
																					path: '/outdoorTempPoints',
																					templateShareable: true
																				}"
																				class="sapUiTinyMarginTop">
																				<mc:LineMicroChartEmphasizedPoint
																					x="{x}"
																					y="{y}"
																					color="{/outdoorTemp/0/color}"
																					show="{show}" />
																			</mc:LineMicroChart>
																		</VBox>
																	</HBox>
																</items>
															</FlexBox>
		<!--											Page 2: indoor and outdoor humidity -->
															<FlexBox alignItems="Center" justifyContent="Center">
																<items>
		<!--													Indoor humidity -->
			 														<HBox alignItems="Center" justifyContent="Center" class="sapUiSmallMargin">
																		<VBox>
																			<HBox>
																				<core:Icon src="sap-icon://blur" class="sapUiTinyMarginEnd text sizeSmall"/>
																				<Text text="{i18n>indoor}"/>
																			</HBox>
																			<mc:LineMicroChart
																				threshold="{/indoorHum/0/threshold}"
																				leftTopLabel="{/indoorHum/0/leftTopLabel}"
																				leftBottomLabel="{/indoorHum/0/leftBottomLabel}"
																				rightTopLabel="{/indoorHum/0/rightTopLabel}"
																				rightBottomLabel="{/indoorHum/0/rightBottomLabel}"
																				color="{/indoorHum/0/color}"
																				points="{
																					path: '/indoorHumPoints',
																					templateShareable: true
																				}"
																				class="sapUiTinyMarginTop">
																				<mc:LineMicroChartEmphasizedPoint
																					x="{x}"
																					y="{y}"
																					color="{/indoorHum/0/color}"
																					show="{show}" />
																			</mc:LineMicroChart>
																		</VBox>
																	</HBox>
		<!--	 													Outdoor humidity -->
			   														<HBox alignItems="Center" justifyContent="Center" class="sapUiSmallMargin">
																		<VBox>
																			<HBox>
																				<core:Icon src="sap-icon://blur" class="sapUiTinyMarginEnd text sizeSmall"/>
																				<Text text="{i18n>outdoor}"/>
																			</HBox>
																			<mc:LineMicroChart
																				threshold="{/outdoorHum/0/threshold}"
																				leftTopLabel="{/outdoorHum/0/leftTopLabel}"
																				leftBottomLabel="{/outdoorHum/0/leftBottomLabel}"
																				rightTopLabel="{/outdoorHum/0/rightTopLabel}"
																				rightBottomLabel="{/outdoorHum/0/rightBottomLabel}"
																				color="{/outdoorHum/0/color}"
																				points="{
																					path: '/outdoorHumPoints',
																					templateShareable: true
																				}"
																				class="sapUiTinyMarginTop">
																				<mc:LineMicroChartEmphasizedPoint
																					x="{x}"
																					y="{y}"
																					color="{/outdoorHum/0/color}"
																					show="{show}" />
																			</mc:LineMicroChart>
																		</VBox>
																	</HBox>
																</items>
															</FlexBox>
		<!--										  Page 3: Temperature max/min values (indoor/outdoor) as ComparisonMicroChart	-->
															<FlexBox alignItems="Center" justifyContent="Center">
																<items>
																	<HBox alignItems="Center" justifyContent="Center" class="sapUiSmallMargin">
																		<VBox>
																			<HBox>
																				<core:Icon src="sap-icon://temperature" class="sapUiTinyMarginEnd text sizeSmall"/>
																				<Text text="{i18n>indoor}"/>
																			</HBox>
																			<mc:ComparisonMicroChart
																					view="Normal"
																					scale=""
																					class="sapUiSmallMargin"
																					width="12rem"
																					minValue="-15"
																					maxValue="40"
																				>
																				<mc:data>
																					<mc:ComparisonMicroChartData
																							title="{i18n>minimum}
																										 {
																												path: '/readingIndoorTemperatureMin/timestamp',
																												type: 'sap.ui.model.type.Date',
																												formatOptions: {
																													style: 'short'
																												}
																											}
																										  {
																												path: '/readingIndoorTemperatureMin/timestamp',
																												formatter: '.formatter.getFormattedTimeString'
																											}"
																							value="{/readingIndoorTemperatureMin/value}"
																							color="{ parts:[{path: '/readingIndoorTemperatureMin/value'}, {path: '/Position/Indoor'}], formatter: '.formatter.temperatureValueColor'}"
																							displayValue="{/readingIndoorTemperatureMin/value}{i18n>temperatureDegree}"
																					/>
																					<mc:ComparisonMicroChartData
																							title="{i18n>average}"
																							value="{/readingIndoorTemperatureAvg/value}"
																							color="{ parts:[{path: '/readingIndoorTemperatureAvg/value'}, {path: '/Position/Indoor'}], formatter: '.formatter.temperatureValueColor'}"
																							displayValue="{/readingIndoorTemperatureAvg/value}{i18n>temperatureDegree}"
																					/>
																					<mc:ComparisonMicroChartData
																						  title="{i18n>maximum}
																										 {
																											 path: '/readingIndoorTemperatureMax/timestamp',
																											 type: 'sap.ui.model.type.Date',
																											 formatOptions: {
																												 style: 'short'
																											 }
																										 }
																										 {
																											 path: '/readingIndoorTemperatureMax/timestamp',
																											 formatter: '.formatter.getFormattedTimeString'
																					 	  		 	 }"
																							value="{/readingIndoorTemperatureMax/value}"
																							color="{ parts:[{path: '/readingIndoorTemperatureMax/value'}, {path: '/Position/Indoor'}], formatter: '.formatter.temperatureValueColor'}"
																							displayValue="{/readingIndoorTemperatureMax/value}{i18n>temperatureDegree}"
																					/>
																				</mc:data>
																			</mc:ComparisonMicroChart>
																		</VBox>
																		<VBox>
																			<HBox>
																				<core:Icon src="sap-icon://temperature" class="sapUiTinyMarginEnd text sizeSmall"/>
																				<Text text="{i18n>outdoor}"/>
																			</HBox>
																			<mc:ComparisonMicroChart
																					view="Normal"
																					scale=""
																					class="sapUiSmallMargin"
																					width="12rem"
																					minValue="-15"
																					maxValue="40"
																				>
																				<mc:data>
																					<mc:ComparisonMicroChartData
																							title="{i18n>minimum}
																										 {
																										 		path: '/readingOutdoorTemperatureMin/timestamp',
																												type: 'sap.ui.model.type.Date',
																												formatOptions: {
																											 		style: 'short'
																												}
																											}
																											{
																											 	path: '/readingOutdoorTemperatureMin/timestamp',
																											 	formatter: '.formatter.getFormattedTimeString'
																					 				 		}"
																							value="{/readingOutdoorTemperatureMin/value}"
																							color="{ parts:[{path: '/readingOutdoorTemperatureMin/value'}, {path: '/Position/Outdoor'}], formatter: '.formatter.temperatureValueColor'}"
																							displayValue="{/readingOutdoorTemperatureMin/value}{i18n>temperatureDegree}"
																					/>
																					<mc:ComparisonMicroChartData
																							title="{i18n>average}"
																							value="{/readingOutdoorTemperatureAvg/value}"
																							color="{ parts:[{path: '/readingOutdoorTemperatureAvg/value'}, {path: '/Position/Outdoor'}], formatter: '.formatter.temperatureValueColor'}"
																							displayValue="{/readingOutdoorTemperatureAvg/value}{i18n>temperatureDegree}"
																						/>
																					<mc:ComparisonMicroChartData
																						  title="{i18n>maximum}
																											{
																												 path: '/readingOutdoorTemperatureMax/timestamp',
																												 type: 'sap.ui.model.type.Date',
																												 formatOptions: {
																													 style: 'short'
																												 }
																											 }
																											 {
																											 	path: '/readingOutdoorTemperatureMax/timestamp',
																											 	formatter: '.formatter.getFormattedTimeString'
																											 }"
																							value="{/readingOutdoorTemperatureMax/value}"
																							color="{ parts:[{path: '/readingOutdoorTemperatureMax/value'}, {path: '/Position/Outdoor'}], formatter: '.formatter.temperatureValueColor'}"
																							displayValue="{/readingOutdoorTemperatureMax/value}{i18n>temperatureDegree}"
																				/>
																				</mc:data>
																			</mc:ComparisonMicroChart>
																		</VBox>
																	</HBox>
																</items>
															</FlexBox>
		<!--										  Page 4: Humidity max/min values (indoor/outdoor) as ComparisonMicroChart	-->
															<FlexBox alignItems="Center" justifyContent="Center">
																<items>
																	<HBox alignItems="Center" justifyContent="Center" class="sapUiSmallMargin">
																		<VBox>
																			<HBox>
																				<core:Icon src="sap-icon://blur" class="sapUiTinyMarginEnd text sizeSmall"/>
																				<Text text="{i18n>indoor}"/>
																			</HBox>
																			<mc:ComparisonMicroChart
																					view="Normal"
																					scale=""
																					class="sapUiSmallMargin"
																					width="12rem"
																					minValue="20"
																					maxValue="90"
																				>
																				<mc:data>
																					<mc:ComparisonMicroChartData
																							title="{i18n>minimum}
																										 {
																												path: '/readingIndoorHumidityMin/timestamp',
																												type: 'sap.ui.model.type.Date',
																												formatOptions: {
																													style: 'short'
																												}
																											}
																										  {
																												path: '/readingIndoorHumidityMin/timestamp',
		 																								 		formatter: '.formatter.getFormattedTimeString'
																											}"

																							value="{/readingIndoorHumidityMin/value}"
																							color="{ parts:[{path: '/readingIndoorHumidityMin/value'}, {path: '/Position/Indoor'}], formatter: '.formatter.humidityValueColor'}"
																							displayValue="{/readingIndoorHumidityMin/value}{i18n>humidityPercent}"
																					/>
																					<mc:ComparisonMicroChartData
																							title="{i18n>average}"
																							value="{/readingIndoorHumidityAvg/value}"
																							color="{ parts:[{path: '/readingIndoorHumidityAvg/value'}, {path: '/Position/Indoor'}], formatter: '.formatter.humidityValueColor'}"
																							displayValue="{/readingIndoorHumidityAvg/value}{i18n>humidityPercent}"
																					/>
																					<mc:ComparisonMicroChartData
																						  title="{i18n>maximum}
																											{
																												 path: '/readingIndoorHumidityMax/timestamp',
																												 type: 'sap.ui.model.type.Date',
																												 formatOptions: {
																													 style: 'short'
																												 }
																											 }
																											 {
																											 	path: '/readingIndoorHumidityMax/timestamp',
																											 	formatter: '.formatter.getFormattedTimeString'
																					 	 			 		}"
																							value="{/readingIndoorHumidityMax/value}"
																							color="{ parts:[{path: '/readingIndoorHumidityMax/value'}, {path: '/Position/Indoor'}], formatter: '.formatter.humidityValueColor'}"
																							displayValue="{/readingIndoorHumidityMax/value}{i18n>humidityPercent}"
																					/>
																				</mc:data>
																			</mc:ComparisonMicroChart>
																		</VBox>
																		<VBox>
																			<HBox>
																				<core:Icon src="sap-icon://blur" class="sapUiTinyMarginEnd text sizeSmall"/>
																				<Text text="{i18n>outdoor}"/>
																			</HBox>
																			<mc:ComparisonMicroChart
																					view="Normal"
																					scale=""
																					class="sapUiSmallMargin"
																					width="12rem"
																					minValue="20"
																					maxValue="90"
																				>
																				<mc:data>
																					<mc:ComparisonMicroChartData
																							title="{i18n>minimum}
																											{
																												 path: '/readingOutdoorHumidityMin/timestamp',
																												 type: 'sap.ui.model.type.Date',
																												 formatOptions: {
																													 style: 'short'
																												 }
																											 }
																											 {
																											 	path: '/readingOutdoorHumidityMin/timestamp',
																											 	formatter: '.formatter.getFormattedTimeString'
																						 				 	 }"
																							value="{/readingOutdoorHumidityMin/value}"
																							color="{ parts:[{path: '/readingOutdoorHumidityMin/value'}, {path: '/Position/Outdoor'}], formatter: '.formatter.humidityValueColor'}"
																							displayValue="{/readingOutdoorHumidityMin/value}{i18n>humidityPercent}"
																					/>
																					<mc:ComparisonMicroChartData
																							title="{i18n>average}"
																							value="{/readingOutdoorHumidityAvg/value}"
																							color="{ parts:[{path: '/readingOutdoorHumidityAvg/value'}, {path: '/Position/Outdoor'}], formatter: '.formatter.humidityValueColor'}"
																							displayValue="{/readingOutdoorHumidityAvg/value}{i18n>humidityPercent}"
																						/>
																					<mc:ComparisonMicroChartData
																						  title="{i18n>maximum}
																											{
																												 path: '/readingOutdoorHumidityMax/timestamp',
																												 type: 'sap.ui.model.type.Date',
																												 formatOptions: {
																													 style: 'short'
																												 }
																											 }
																											 {
																											 	path: '/readingOutdoorHumidityMax/timestamp',
																											 	formatter: '.formatter.getFormattedTimeString'
																											 }"
																							value="{/readingOutdoorHumidityMax/value}"
																							color="{ parts:[{path: '/readingOutdoorHumidityMax/value'}, {path: '/Position/Outdoor'}], formatter: '.formatter.humidityValueColor'}"
																							displayValue="{/readingOutdoorHumidityMax/value}{i18n>humidityPercent}"
																				/>
																				</mc:data>
																			</mc:ComparisonMicroChart>
																		</VBox>
																	</HBox>
																</items>
															</FlexBox>
														</pages>
													</Carousel>
												</items>
											</VBox>
										</items>
									</VBox>
									<VBox fitContainer="true" alignItems="Stretch" justifyContent="Center">
									<!--<VBox fitContainer="true" alignItems="Center">-->
										<layoutData>
											<FlexItemData growFactor="3" />
										</layoutData>
										<items>
											<VBox class="sapUiTinyMargin" height="auto" backgroundDesign="Transparent" justifyContent="Center">
												<HBox id="date" justifyContent="Center" alignItems="Center" class="sapUiTinyMargin sapUiHideOnPhone" height="auto" backgroundDesign="Transparent">
														<Text text="{path: '/currentTime', formatter: '.formatter.getNewFormattedDateString'}" class="sapMText sizeMediumBold"/>
												</HBox>
						 						<HBox id="time" justifyContent="Center" alignItems="Center" class="sapUiTinyMargin sapUiHideOnPhone" height="auto" backgroundDesign="Transparent">
														<Text text="{path: '/currentTime', formatter: '.formatter.getNewFormattedTimeString'}" class="sapMText sizeLargeBold"/>
												</HBox>
											</VBox>
		<!--							Current values -->
											<VBox class="sapUiTinyMargin" height="auto" backgroundDesign="Transparent" justifyContent="Center">
												<HBox class="sapUiTinyMargin" justifyContent="Stretch">
		<!--                  Indoor temperature -->
													<VBox class="sapUiTinyMargin sapUiMediumMarginEnd">
														<HBox>
															<core:Icon src="sap-icon://temperature" class="sapUiTinyMarginEnd sizeSmall"/>
															<Text text="{i18n>indoor}" class="sizeSmall sapUiTinyMarginEnd"/>
														</HBox>
														<NumericContent
															id="indoorTemperature"
															value="{path: '/readingIndoorTemperature/value', formatter: '.formatter.temperatureValue'}"
															scale="{i18n>temperatureDegree}"
															valueColor="{ parts:[{path: '/readingIndoorTemperature/value'}, {path: '/Position/Indoor'}], formatter: '.formatter.temperatureValueColor'}"
															indicator="{ parts:[{path: '/readingIndoorTemperatureOld/value'}, {path: '/readingIndoorTemperature/value'}], formatter: '.formatter.temperatureIndicator'}"
															animateTextChange="false"
															press="pressIndoorTemperature"
														/>
													</VBox>
		<!--                  Indoor humidity -->
													<VBox class="sapUiTinyMargin">
														<HBox>
															<core:Icon src="sap-icon://blur" class="sapUiTinyMarginEnd  sizeSmall"/>
															<Text text="{i18n>indoor}" class="sizeSmall sapUiTinyMarginEnd"/>
														</HBox>
														<HBox class="sapUiLargeMarginBegin">
															<mc:RadialMicroChart
																id="indoorHumidity"
																total="100"
																percentage="{path: '/readingIndoorHumidity/value'}"
																valueColor="{ parts:[{path: '/readingIndoorHumidity/value'}, {path: '/Position/Indoor'}], formatter: '.formatter.humidityValueColor'}"
																press="pressIndoorHumidity"
																size="M"
														 />
														</HBox>
													</VBox>
												</HBox>
												<HBox class="sapUiTinyMargin" justifyContent="Stretch">
		<!--                	Outdoor temperature -->
													<VBox class="sapUiTinyMargin sapUiMediumMarginEnd">
														<HBox>
															<core:Icon src="sap-icon://temperature" class="sapUiTinyMarginEnd sizeSmall"/>
															<Text text="{i18n>outdoor}" class="sizeSmall sapUiTinyMarginEnd"/>
														</HBox>
														<NumericContent
															id="outdoorTemperature"
															value="{path: '/readingOutdoorTemperature/value', formatter: '.formatter.temperatureValue'}"
															scale="{i18n>temperatureDegree}"
															valueColor="{ parts:[{path: '/readingOutdoorTemperature/value'}, {path: '/Position/Outdoor'}], formatter: '.formatter.temperatureValueColor'}"
															indicator="{ parts:[{path: '/readingOutdoorTemperatureOld/value'}, {path: '/readingOutdoorTemperature/value'}], formatter: '.formatter.temperatureIndicator'}"
															animateTextChange="false"
															press="pressOutdoorTemperature"
														/>
													</VBox>
		<!--                  Outdoor humidity -->
													<VBox class="sapUiTinyMargin">
														<HBox>
															<core:Icon src="sap-icon://blur" class="sapUiTinyMarginEnd sizeSmall"/>
															<Text text="{i18n>outdoor}" class="sizeSmall sapUiTinyMarginEnd"/>
														</HBox>
														<HBox class="sapUiLargeMarginBegin">
															<mc:RadialMicroChart
																id="outdoorHumidity"
																total="100"
																percentage="{path: '/readingOutdoorHumidity/value'}"
																valueColor="{ parts:[{path: '/readingOutdoorHumidity/value'}, {path: '/Position/Outdoor'}], formatter: '.formatter.humidityValueColor'}"
																press="pressOutdoorHumidity"
																size="M"
															/>
														</HBox>
													</VBox>
												</HBox>
											</VBox>

		<!--								History of values, last 24h -->
											<VBox class="sapUiTinyMargin" height="auto" backgroundDesign="Transparent">

											</VBox>
										</items>
									</VBox>
								</items>
							</HBox>
						</l:content>
					</l:VerticalLayout>
				</content>
			</ScrollContainer>
 		</content>
		<footer>
			<OverflowToolbar>
					<ToolbarSpacer/>
					<Label text="Theme" labelFor="sliderThemeChange"/>
					<Slider id="sliderThemeChange"  value="{/theme}" change="onSelectTheme" min="0" max="2" enableTickmarks="false" width="8%">
						<ResponsiveScale tickmarksBetweenLabels="3"/>
					</Slider>
					<Button
						icon="sap-icon://picture"
						press="onOpenSelectPicturesDialog"
						tooltip="{i18n>settings}"
						class="sapUiHideOnPhone"
					/>
					<Button
						icon="sap-icon://customize"
						press="onOpenSettingsDialog"
						tooltip="{i18n>settings}"
						class="sapUiHideOnPhone"
					/>
			</OverflowToolbar>
		</footer>
	</Page>
	</App>
</mvc:View>
